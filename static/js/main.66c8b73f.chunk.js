(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],{37:function(e,t,n){},38:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},52:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var c=n(2),o=n.n(c),s=n(28),a=n.n(s),i=(n(37),n(38),n(17)),r=n.n(i),l=n(20),d=n(5),u=n(6),j=n(22),O=(n(40),n(59),j.a.initializeApp({apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"/Notes",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_API_KEY,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"/Notes",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_AUTH_DOMAIN,projectId:Object({NODE_ENV:"production",PUBLIC_URL:"/Notes",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_PROJECT_ID,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"/Notes",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/Notes",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:Object({NODE_ENV:"production",PUBLIC_URL:"/Notes",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_APP_ID})),f=O.auth(),b=new j.a.auth.GoogleAuthProvider,x=O.firestore(),p={users:x.collection("users"),notesM:x.collection("notes"),getCurrentTimeStamp:j.a.firestore.FieldValue.serverTimestamp},v=n(1),S=o.a.createContext();function h(){return Object(c.useContext)(S)}function g(e){var t=e.children,n=Object(c.useState)(),o=Object(d.a)(n,2),s=o[0],a=o[1],i=Object(c.useState)(!0),r=Object(d.a)(i,2),l=r[0],u=r[1];Object(c.useEffect)((function(){return f.onAuthStateChanged((function(e){e?(a(e),u(!1)):u(!1)}))}));var j={currentUser:s,logIn:function(){f.signInWithPopup(b).then().catch((function(e){return console.log(e)}))},logOut:function(){return f.signOut()}};return Object(v.jsx)(S.Provider,{value:j,children:!l&&t})}var m=o.a.createContext(),C=function(){return Object(c.useContext)(m)},E=function(e){var t=e.children,n=Object(c.useState)(!1),o=Object(d.a)(n,2),s=o[0],a=o[1],i=Object(c.useState)(""),r=Object(d.a)(i,2),l=r[0],u=r[1],j=Object(c.useState)([]),O=Object(d.a)(j,2),f=O[0],b=O[1],x=Object(c.useState)("#ffffff"),p=Object(d.a)(x,2),S=p[0],h=p[1],g=Object(c.useState)("#000000"),C=Object(d.a)(g,2),E=C[0],_=C[1],N=Object(c.useState)("Sans-serif"),T=Object(d.a)(N,2),y=T[0],A=T[1],R=Object(c.useState)("25"),I=Object(d.a)(R,2),F=I[0],P=I[1],k=Object(c.useState)(""),D=Object(d.a)(k,2),z=D[0],L=D[1],B=Object(c.useState)("title"),K=Object(d.a)(B,2),w={addNote:s,setAddNote:a,text:l,setText:u,notes:f,setNotes:b,noteBackgroundColor:S,setNoteBackgroundColor:h,textColor:E,setTextColor:_,font:y,setFont:A,fontSize:F,setFontSize:P,title:z,setTitle:L,sort:K[0],setSort:K[1]};return Object(v.jsx)(m.Provider,{value:w,children:t})};n(44);function _(){var e=C().setAddNote,t=Object(c.useState)(!0),n=Object(d.a)(t,2),o=n[0],s=n[1];return Object(v.jsxs)(v.Fragment,{children:[!o&&Object(v.jsx)("div",{className:"offline",children:Object(v.jsxs)("div",{children:[Object(v.jsx)("p",{children:"Check your internet connection and try again."}),Object(v.jsx)("button",{onClick:function(){return s(!0)},children:"Close"})]})}),Object(v.jsxs)("span",{className:"addNotesBtn",onClick:function(){navigator.onLine&&(console.log("online"),e(!0)),!1===navigator.onLine&&(s(!1),console.log("offline"))},children:[Object(v.jsx)("div",{}),Object(v.jsx)("div",{})]})]})}var N=n(31);n(45),n(46);function T(){var e=Object(c.useRef)(),t=Object(c.useState)(!1),n=Object(d.a)(t,2),o=n[0],s=n[1],a=C(),i=a.font,r=a.setFont,l=function(t){e.current.contains(t.target)||s(!1)};return Object(c.useEffect)((function(){return o?document.addEventListener("mousedown",l):document.removeEventListener("mousedown",l),function(){document.removeEventListener("mousedown",l)}}),[o]),Object(v.jsxs)("div",{style:{zIndex:"".concat(o?"4":"")},ref:e,className:"fontSelect",onClick:function(){return s(!o)},children:[Object(v.jsx)("div",{className:"title",children:"Font"}),Object(v.jsx)("div",{className:"selectDefault",style:{fontFamily:"".concat(i)},children:i}),Object(v.jsx)("div",{className:"fontCon",style:{height:"".concat(o?"250px":""),opacity:"".concat(o?"1":""),pointerEvents:"".concat(o?"all":"")},children:["Sans-serif","Cursive","Fantasy","Pattaya","Dancing Script"].map((function(e){return Object(v.jsxs)("div",{className:"fontOption",style:{},children:[Object(v.jsx)("input",{type:"radio",name:"font",value:e,onChange:function(e){return r(e.target.value)}},e),Object(v.jsx)("div",{className:e,style:{fontFamily:"".concat(e)},children:e})]},e)}))})]})}n(47);function y(){var e=Object(c.useRef)(),t=C(),n=t.fontSize,o=t.setFontSize,s=Object(c.useState)(!1),a=Object(d.a)(s,2),i=a[0],r=a[1],l=function(t){e.current.contains(t.target)||r(!1)};return Object(c.useEffect)((function(){return i?document.addEventListener("mousedown",l):document.removeEventListener("mousedown",l),function(){document.removeEventListener("mousedown",l)}}),[i]),Object(v.jsxs)("div",{ref:e,className:"fontSizeSelect",onClick:function(){return r(!i)},children:[Object(v.jsx)("div",{className:"fontSizeSelectDefault",style:{fontSize:"".concat(n,"px")},children:n}),Object(v.jsx)("div",{className:"fontSizeCon",style:{height:"".concat(i?"210px":""),opacity:"".concat(i?"1":""),pointerEvents:"".concat(i?"all":"")},children:[15,25,35,45].map((function(e){return Object(v.jsxs)("div",{className:"fontSizeOption",style:{},children:[Object(v.jsx)("input",{type:"radio",name:"fontSize",value:e,onChange:function(e){return o(e.target.value)}},e),Object(v.jsx)("div",{className:e,style:{fontSize:"".concat(e,"px")},children:e})]},e)}))})]})}n(48);function A(e){var t=e.color,n=e.setColor,o=e.title,s=e.paddingT,a=e.paddingB,i=e.align_1,r=e.align_2,l=e.colors,u=Object(c.useRef)(),j=Object(c.useState)(!1),O=Object(d.a)(j,2),f=O[0],b=O[1],x=Object(c.useState)(3),p=Object(d.a)(x,2),S=p[0],h=p[1],g=function(e){u.current.contains(e.target)||b(!1)};return Object(c.useEffect)((function(){return f?document.addEventListener("mousedown",g):document.removeEventListener("mousedown",g),function(){document.removeEventListener("mousedown",g)}}),[f]),Object(c.useEffect)((function(){f?h(6):setTimeout((function(){h(1)}),300)}),[f]),Object(v.jsx)("div",{ref:u,className:"selectCon",style:{paddingTop:"".concat(s),paddingBottom:"".concat(a),top:"".concat(i),bottom:"".concat(r),zIndex:"".concat(S)},children:Object(v.jsxs)("div",{className:"select",style:{width:"".concat(f?"95vw":""),height:"".concat(f?"80px":""),borderRadius:"".concat(f?"15px":"")},onClick:function(){b(!f)},children:[Object(v.jsx)("p",{children:o}),Object(v.jsx)("div",{className:"selected",style:{pointerEvents:"".concat(f?"none":""),opacity:"".concat(f?"0":""),background:"".concat(t)},children:Object(v.jsx)("div",{id:"tick-mark"})}),Object(v.jsxs)("div",{className:"colorInput optionCon",style:{width:"".concat(f?"100%":""),opacity:"".concat(f?"1":"")},children:[l.map((function(e){return Object(v.jsxs)("div",{className:"colorContainer option",style:{pointerEvents:"".concat(f?"all":""),margin:"".concat(f?"4%":"")},children:[Object(v.jsx)("div",{className:e,style:{background:"".concat(e)}}),Object(v.jsx)("input",{type:"radio",name:"color",value:e,onChange:function(e){return n(e.target.value)}},e)]},e)})),Object(v.jsxs)("div",{className:"colorContainer option",style:{pointerEvents:"".concat(f?"all":""),margin:"".concat(f?"4%":"")},children:[Object(v.jsx)("div",{}),Object(v.jsx)("input",{type:"color",value:t,onChange:function(e){return n(e.target.value)}})]})]})]})})}n(49);function R(){var e=C(),t=e.setAddNote,n=(e.notes,e.setNotes,e.text),o=e.setText,s=e.noteBackgroundColor,a=e.setNoteBackgroundColor,i=e.textColor,r=e.setTextColor,l=e.font,u=e.setFont,j=e.fontSize,O=e.setFontSize,f=e.title,b=e.setTitle,x=Object(c.useState)(!1),S=Object(d.a)(x,2),g=S[0],m=S[1],E=Object(c.useState)(!1),_=Object(d.a)(E,2),R=_[0],I=_[1],F=Object(c.useState)(!1),P=Object(d.a)(F,2),k=P[0],D=P[1],z=Object(c.useState)(!0),L=Object(d.a)(z,2),B=L[0],K=L[1],w=h().currentUser;return Object(v.jsxs)("div",{className:"formContainer",children:[k&&Object(v.jsx)("div",{className:"saving",children:Object(v.jsx)("div",{children:Object(v.jsx)("p",{children:"saving..."})})}),!B&&Object(v.jsx)("div",{className:"offline",children:Object(v.jsxs)("div",{children:[Object(v.jsx)("p",{children:"Check your internet connection and try again."}),Object(v.jsx)("button",{onClick:function(){return K(!0)},children:"Close"})]})}),Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),navigator.onLine&&(console.log("online"),D(!0),function(){var e=new Date,c="".concat(e.getDate()," ").concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]," ").concat(e.getFullYear());p.users.doc(w.uid).get().then((function(e){if(e.exists){console.log("geting data");var d=e.data().note;console.log("setData"),d=[].concat(Object(N.a)(d),[{title:f,note:n,backgroundColor:s,textColor:i,font:l,fontSize:j,noteId:1e3*Math.random(),date:c}]),console.log("updated data"),p.users.doc(w.uid).update({note:d}).then((function(e){console.log("updated note at server"),o(""),b(""),r("#000000"),u("Sans-serif"),O("25"),a("#ffffff"),D(!1),t(!1)})),console.log("updated server data")}}))}()),0==navigator.onLine&&(K(!1),console.log("offline"))},children:[Object(v.jsx)("input",{className:"titleInput",type:"text",value:f,onChange:function(e){return b(e.target.value)},required:!0,placeholder:"Title...",maxLength:"15",style:{background:"".concat(s),color:"".concat(i),transition:"all 0.35s",fontFamily:"".concat(l)}}),Object(v.jsx)("textarea",{type:"text",value:n,onChange:function(e){return o(e.target.value)},required:!0,placeholder:"Note...",maxLength:"1000",style:{background:"".concat(s),color:"".concat(i),transition:"all 0.35s",fontFamily:"".concat(l),fontSize:"".concat(j,"px")}}),Object(v.jsxs)("div",{className:"selectContainer",children:[Object(v.jsx)(A,{title:"Background",paddingT:"0px",paddingB:"0px",align_1:"0",color:s,setColor:a,colors:["#ffffff","#f2cdaf","#f9e2cf","#fcd9dd","#b6dee7"]}),Object(v.jsx)(A,{title:"Text Color",paddingT:"10px",paddingB:"0px",align_2:"0",color:i,setColor:r,colors:["#000000","#ffffff","#ff0000","#9500ff","#ff00ff"]}),Object(v.jsx)(T,{}),Object(v.jsx)(y,{})]}),Object(v.jsx)("button",{type:"submit",className:"save",onClick:function(e){I(!R);var t=e.target.className,n=e.clientX-e.target.offsetLeft,c=e.clientY-e.target.offsetTop,o=document.createElement("span");o.style.left=n+"px",o.style.top=c+"px",document.querySelector(".".concat(t)).appendChild(o),setTimeout((function(){o.remove()}),500)},children:"Save"})]}),Object(v.jsxs)("button",{className:"inputCloseBtn",onClick:function(){m(!0),t(!1),m(!1)},children:[Object(v.jsx)("div",{className:g?"close-1":""}),Object(v.jsx)("div",{className:g?"close-2":""})]})]})}n(52);function I(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),n=(t[0],t[1]),o=Object(c.useState)(!1),s=Object(d.a)(o,2),a=s[0],i=s[1],j=Object(c.useState)(),O=Object(d.a)(j,2),b=O[0],x=O[1],S=Object(u.g)(),g=h(),m=g.logOut,E=g.currentUser,N=function(){var e=Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(""),i(!0),e.next=5,m();case 5:f.onAuthStateChanged((function(e){e||S.push("/Notes/login")})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n("Failed to logOUt");case 11:i(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),T=C(),y=T.notes,A=T.addNote,I=T.sort,F=T.setSort;!function(e){for(var t=[],n=e.length-1;n>=0;n--)t.push(e[n])}(y);if(E)p.users.doc(E.uid).get().then((function(e){e.exists||p.users.doc(E.uid).set({note:[],uid:E.uid})}));Object(c.useEffect)((function(){p.users.doc(E.uid).get().then((function(e){var t=e.data().note;console.log(t),x(t),console.log(b)}))}),[A]);var P=function(e){var t=e.target.className,n=document.getElementById("".concat(t));console.log(e.target.style.fontSize),"...read more"===e.target.innerText?(n.style.display="inline",e.target.innerText=" read less"):" read less"===e.target.innerText&&(n.style.display="none",e.target.innerText="...read more")};return Object(v.jsx)(v.Fragment,{children:A?Object(v.jsx)(R,{}):Object(v.jsxs)("div",{className:"notesContainer",children:[Object(v.jsxs)("h1",{className:"logo",children:["Notes",Object(v.jsx)("button",{onClick:function(){"title"===I?(console.log(I),F("grid")):"grid"===I?(console.log(I),F("title")):console.log(I)},children:"sort"})]}),Object(v.jsx)("div",{className:"noteCon",children:b&&b.map((function(e){return Object(v.jsxs)("div",{className:"notes",style:{background:"".concat(e.backgroundColor),color:"".concat(e.textColor),fontFamily:"".concat(e.font),fontSize:"".concat(e.fontSize,"px")},children:[Object(v.jsx)("h1",{children:e.title}),Object(v.jsx)("div",{children:"grid"===I&&(e.note.length>460&&"15"===e.fontSize?Object(v.jsxs)("p",{children:[e.note.slice(0,461),Object(v.jsx)("span",{id:e.noteId,style:{display:"none"},children:e.note.slice(461)}),Object(v.jsx)("a",{onClick:P,style:{fontSize:"".concat(e.fontSize,"px")},className:e.noteId,children:"...read more"})]}):e.note.length>250&&"25"===e.fontSize?Object(v.jsxs)("p",{children:[e.note.slice(0,240),Object(v.jsx)("span",{id:e.noteId,style:{display:"none"},children:e.note.slice(240)}),Object(v.jsx)("a",{onClick:P,style:{fontSize:"".concat(e.fontSize,"px")},className:e.noteId,children:"...read more"})]}):e.note.length>115&&"35"===e.fontSize?Object(v.jsxs)("p",{children:[e.note.slice(0,120),Object(v.jsx)("span",{id:e.noteId,style:{display:"none"},children:e.note.slice(120)}),Object(v.jsx)("a",{onClick:P,style:{fontSize:"".concat(e.fontSize,"px")},className:e.noteId,children:"...read more"})]}):e.note.length>44&&"45"===e.fontSize?Object(v.jsxs)("p",{children:[e.note.slice(0,45),Object(v.jsx)("span",{id:e.noteId,style:{display:"none"},children:e.note.slice(45)}),Object(v.jsx)("a",{onClick:P,style:{fontSize:"".concat(e.fontSize,"px")},className:e.noteId,children:"...read more"})]}):e.note)}),Object(v.jsx)("p",{className:"date",children:e.date})]},e.noteId)}))}),Object(v.jsx)(_,{}),Object(v.jsx)("button",{disabled:a,onClick:N,children:"log out"})]})})}var F=n(30);function P(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),n=(t[0],t[1]),o=Object(c.useState)(!1),s=Object(d.a)(o,2),a=s[0],i=s[1],j=Object(u.g)(),O=h().logIn;f.onAuthStateChanged((function(e){e&&j.push("/Notes")}));var b=function(){var e=Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(""),i(!0),e.next=5,O();case 5:f.onAuthStateChanged((function(e){e&&j.push("/Notes")})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n("Failed to Log in");case 11:i(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("button",{disabled:a,onClick:b,children:"sign in"})})}var k=n(23),D=n(32);function z(e){var t=e.component,n=Object(D.a)(e,["component"]),c=h().currentUser;return Object(v.jsx)(u.b,Object(k.a)(Object(k.a)({},n),{},{render:function(e){return c?Object(v.jsx)(t,Object(k.a)({},e)):Object(v.jsx)(u.a,{to:"/Notes/login"})}}))}var L=function(){return Object(v.jsx)(g,{children:Object(v.jsx)(E,{children:Object(v.jsx)(F.a,{children:Object(v.jsxs)(u.d,{children:[Object(v.jsx)(z,{exact:!0,path:"/Notes",component:I}),Object(v.jsx)(u.b,{path:"/Notes/login",component:P})]})})})})};a.a.render(Object(v.jsx)(o.a.StrictMode,{children:Object(v.jsx)(L,{})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.66c8b73f.chunk.js.map